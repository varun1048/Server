<head>
  <title>
      Quiz
  </title>
  <style>
      button{
font-family: 'Work Sans', sans-serif;
font-size: 22px;
background-color: #279;
color: #fff;
border: 0px;
border-radius: 3px;
padding: 20px;
cursor: pointer;
margin-bottom: 20px;
}
button:hover{
background-color: #38a;
}
  </style>
   <script src="/socket.io/socket.io.js"></script>
  <script src="info.js"></script>
</head>

<body style="text-align: center;" onload="$('buttonId').style='display:none'">
  <h1>
    vels university <br> 
      School of Computing Sciences 
  </h1>

  <h2 id="info">
    Name:
    <input type="text" id="name"><br>
    Colleage:
    <input type="text" id="colleage"><br><br>
    <button type="submit" onclick="start(),timeset() ">Submit</button>
  </h2>

  <h2>
      <div id="display"></div><br>
      <div id="countdown"></div><br><br>

      <div id="question"></div><br>
  </h2>

  <h2 id="buttonId">

    <button type="button" id="a" onclick="option('a')"></button><br><br>
    <button type="button" id="b" onclick="option('b')"></button><br><br>
    <button type="button" id="c" onclick="option('c')"></button><br><br>      
  </h2>        

<script>
var timeleft = 6;

const DataBase = []
DataBase.push({q:"Value of tan:",op:[10,20,30],ans:'a'})
DataBase.push({q:"Value of sin:",op:['<','@','5'],ans:'c'})
DataBase.push({q:"Value of cos:",op:['jhon','saravana','varun'],ans:'a'})
DataBase.push({q:"Value of tan:",op:[10,20,30],ans:'a'})

const $ = (i)=>document.getElementById(i)

var questionNumber = 0
var received = [] 
var mark=0;
var optionButton = []

var optionButton = [$('a'),$('b'),$('c')]        

//timer

var downloadTimer;

function timeset(){

  downloadTimer = setInterval(function(){
    
  if(timeleft == 0){    
    
    $("countdown").innerHTML = "Time out";
    clearInterval(downloadTimer);
    // clearInterval(timeleft )
    console.log(timeleft)
    $('question').innerHTML='your mark: '+mark +"    of " + ++data
    $('buttonId').innerHTML=null
    toserver($('name').value,$('colleage').value, mark ,timeleft)
  }
  if(timeleft <= 5){$("countdown").style.color='red'} 
  
  else {
      $("countdown").style.color='green'
    }
    
    
    $("countdown").innerHTML = timeleft + " seconds remaining";
    
    timeleft -= 1;
  }, 1000);
  
}
  
function start(){

$('info').style='display:none'
$('display').innerHTML=$('name').value + " from  " +$('colleage').value
$('buttonId').style='display'
$('question').innerHTML=DataBase[questionNumber].q
var tem = DataBase[questionNumber].op
tem.forEach((x,y)=>{
optionButton[y].innerHTML = x
})
}
var data = DataBase.length-1



function option(inner){

  if(inner === DataBase[questionNumber].ans){
  mark++
  }    

  if(questionNumber < data){
  // console.log(inner +'-------'+ DataBase[questionNumber].ans)

  questionNumber++
    start()
  }
  else{
    
    clearInterval(downloadTimer); 

    $("countdown").style.color='green'
    $("countdown").innerHTML = "down ";

    $('question').innerHTML='your mark:'+mark +"    of " + ++data
    $('buttonId').innerHTML=null
    toserver($('name').value,$('colleage').value, mark ,timeleft)

    
  }

}




const DataBaseUpdata= [
    {
      question: "Who invented JavaScript?",
      answers: {
        a: "Douglas Crockford",
        b: "Sheryl Sandberg",
        c: "Brendan Eich"
      },
      correctAnswer: "c"
    },
    {
      question: "Which one of these is a JavaScript package manager?",
      answers: {
        a: "Node.js",
        b: "TypeScript",
        c: "npm"
      },
      correctAnswer: "c"
    },
    {
      question: "Which tool can you use to ensure code quality?",
      answers: {
        a: "Angular",
        b: "jQuery",
        c: "RequireJS",
        d: "ESLint"
      },
      correctAnswer: "d"
    }

];



</script>
  </body>
